<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConfiElectro - Baraja Química</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: #0a0014;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            overflow-y: auto;
            position: relative;
        }

        /* Fondo animado con estrellas */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Partículas flotantes de colores */
        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: float 6s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
            50% { transform: translateY(-50px) rotate(180deg); opacity: 1; }
        }

        .top-logo {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 100;
            width: 80px;
            height: auto;
            transition: all 0.3s;
            filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.3));
        }

        .top-logo:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.5));
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-bottom: 20px;
        }

        /* Logo atómico animado */
        .logo-container {
            margin: 10px 0 5px;
            position: relative;
            width: 100px;
            height: 100px;
        }

        .atom-core {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, #ff00ff, #00ffff);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 30px #ff00ff, 0 0 40px #00ffff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
        }

        .orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .orbit:nth-child(2) {
            width: 60px;
            height: 60px;
            animation: rotate 4s linear infinite;
        }

        .orbit:nth-child(3) {
            width: 80px;
            height: 80px;
            animation: rotate 6s linear infinite reverse;
            border-color: rgba(255, 0, 255, 0.3);
        }

        .orbit:nth-child(4) {
            width: 100px;
            height: 100px;
            animation: rotate 8s linear infinite;
            border-color: rgba(255, 215, 0, 0.3);
        }

        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .electron {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #00ffff;
            border-radius: 50%;
            box-shadow: 0 0 15px #00ffff;
            top: -6px;
            left: 50%;
            margin-left: -6px;
        }

        .orbit:nth-child(3) .electron {
            background: #ff00ff;
            box-shadow: 0 0 15px #ff00ff;
        }

        .orbit:nth-child(4) .electron {
            background: #ffd700;
            box-shadow: 0 0 15px #ffd700;
        }

        .logo-text {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Orbitron', sans-serif;
            font-size: 12px;
            font-weight: 800;
            letter-spacing: 2px;
            background: linear-gradient(90deg, #00ffff, #ff00ff, #ffd700, #00ffff);
            background-size: 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s linear infinite;
            white-space: nowrap;
        }

        @keyframes gradientShift {
            0% { background-position: 0%; }
            100% { background-position: 200%; }
        }

        h1 {
            display: none;
        }

        .mode-selector {
            display: flex;
            gap: 20px;
            margin: 10px 0;
            align-items: center;
        }

        .mode-option {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s;
            padding: 8px 15px;
            border-radius: 20px;
        }

        .mode-option:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .mode-option input[type="radio"] {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #00ffff;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mode-option input[type="radio"]:checked {
            border-color: #ff00ff;
            box-shadow: 0 0 15px #ff00ff;
        }

        .mode-option input[type="radio"]:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: linear-gradient(135deg, #ff00ff, #00ffff);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: radioAppear 0.3s ease;
        }

        @keyframes radioAppear {
            from { transform: translate(-50%, -50%) scale(0); }
            to { transform: translate(-50%, -50%) scale(1); }
        }

        .mode-option label {
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            user-select: none;
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .next-btn, .config-btn {
            font-family: 'Orbitron', sans-serif;
            padding: 10px 20px;
            font-size: 0.85rem;
            font-weight: 700;
            border: none;
            background: linear-gradient(135deg, #00ffff, #0080ff, #ff00ff);
            background-size: 200%;
            color: white;
            cursor: pointer;
            border-radius: 50px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: all 0.3s;
            box-shadow: 0 5px 30px rgba(0, 255, 255, 0.4);
            position: relative;
            overflow: hidden;
        }

        .config-btn {
            background: linear-gradient(135deg, #ffd700, #ff8800, #ff00ff);
            box-shadow: 0 5px 30px rgba(255, 215, 0, 0.4);
        }

        .next-btn::before, .config-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .next-btn:hover::before, .config-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .next-btn:hover {
            background-position: 100%;
            box-shadow: 0 8px 40px rgba(255, 0, 255, 0.6);
            transform: translateY(-3px);
        }

        .config-btn:hover {
            background-position: 100%;
            box-shadow: 0 8px 40px rgba(255, 215, 0, 0.6);
            transform: translateY(-3px);
        }

        .next-btn:active, .config-btn:active {
            transform: translateY(-1px);
        }

        .counter {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: #00ffff;
            text-shadow: 0 0 10px #00ffff;
        }

        .card-area {
            width: 100%;
            max-width: 280px;
            aspect-ratio: 0.7;
            margin: 10px 0 15px;
            perspective: 1000px;
        }

        .card {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a0033 0%, #000428 100%);
            border: 4px solid;
            border-image: linear-gradient(135deg, #00ffff, #ff00ff, #ffd700) 1;
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-shadow:
                0 0 40px rgba(0, 255, 255, 0.3),
                0 0 80px rgba(255, 0, 255, 0.2),
                inset 0 0 60px rgba(0, 255, 255, 0.1);
        }

        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.1) 0%, transparent 70%);
            animation: cardGlow 4s linear infinite;
        }

        @keyframes cardGlow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .card-inner {
            position: relative;
            z-index: 2;
            text-align: center;
            animation: cardEntrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes cardEntrance {
            0% {
                opacity: 0;
                transform: scale(0.3) rotateY(180deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0deg);
            }
        }

        .atomic-number {
            position: absolute;
            top: 25px;
            left: 30px;
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            animation: numberPulse 2s ease-in-out infinite;
        }

        @keyframes numberPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .symbol {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(5rem, 15vw, 9rem);
            font-weight: 900;
            background: linear-gradient(135deg, #00ffff 0%, #0080ff 50%, #ff00ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 40px 0 20px;
            filter: drop-shadow(0 0 30px rgba(0, 255, 255, 0.6));
            animation: symbolFloat 3s ease-in-out infinite;
        }

        @keyframes symbolFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .name {
            font-family: 'Exo 2', sans-serif;
            font-size: clamp(1.3rem, 4vw, 1.8rem);
            font-weight: 600;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            margin-top: 10px;
        }

        .expert-info {
            margin-top: 15px;
            padding: 12px 15px;
            background: rgba(0, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            display: block;
            animation: infoSlide 0.5s ease;
        }

        @keyframes infoSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .expert-mode .atomic-number,
        .expert-mode .name,
        .expert-mode .expert-info {
            display: none;
        }

        .expert-mode .symbol {
            margin: 80px 0;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            margin: 6px 0;
            font-size: 0.8rem;
        }

        .info-label {
            color: #00ffff;
            font-weight: 600;
        }

        .info-value {
            color: #fff;
            font-weight: 400;
        }

        /* Modal para configuración electrónica */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a0033 0%, #000428 100%);
            padding: 35px 25px;
            border-radius: 30px;
            max-width: 550px;
            width: 95%;
            max-height: 90vh;
            border: 4px solid;
            border-image: linear-gradient(135deg, #00ffff, #ff00ff, #ffd700) 1;
            box-shadow: 0 0 60px rgba(0, 255, 255, 0.5);
            animation: modalSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.7) translateY(-50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2rem;
            color: #ff00ff;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-btn:hover {
            color: #00ffff;
            transform: rotate(90deg);
        }

        .modal-atomic-number {
            position: absolute;
            top: 20px;
            left: 25px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            animation: numberPulse 2s ease-in-out infinite;
            z-index: 10;
        }

        .modal-symbol {
            position: absolute;
            top: 20px;
            left: 65px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, #00ffff 0%, #0080ff 50%, #ff00ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.6));
            line-height: 1;
            z-index: 10;
        }

        .modal-body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            flex: 1;
            text-align: center;
            padding-top: 55px;
            overflow: hidden;
        }

        .modal-element-name {
            display: none;
        }

        .modal-header {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            font-weight: 700;
            color: #00ffff;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .period-group-info {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 12px;
            font-family: 'Orbitron', sans-serif;
        }

        .info-box {
            background: rgba(255, 0, 255, 0.1);
            padding: 8px 16px;
            border-radius: 10px;
            border: 2px solid rgba(255, 0, 255, 0.3);
        }

        .info-box-label {
            font-size: 0.7rem;
            color: #ff00ff;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-box-value {
            font-size: 1.1rem;
            color: #fff;
            font-weight: 700;
            margin-top: 2px;
        }

        .electron-config {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            color: #fff;
            background: rgba(0, 255, 255, 0.05);
            padding: 20px 15px;
            border-radius: 15px;
            border: 2px solid rgba(0, 255, 255, 0.3);
            max-width: 100%;
            overflow-x: auto;
            overflow-y: auto;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* SVG para las líneas diagonales de Möeller */
        .moeller-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .moeller-line {
            stroke: rgba(100, 150, 255, 0.4);
            stroke-width: 3;
            fill: none;
            stroke-linecap: round;
        }

        /* Estilo de la barra de scroll */
        .electron-config::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .electron-config::-webkit-scrollbar-track {
            background: rgba(0, 255, 255, 0.1);
            border-radius: 10px;
        }

        .electron-config::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #00ffff, #ff00ff);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .electron-config::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #00ffff, #0080ff);
        }

        .orbital-diagram {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding: 5px;
            min-width: 280px;
            position: relative;
            z-index: 1;
        }

        .energy-level {
            display: flex;
            align-items: center;
            gap: 14px;
            position: relative;
        }

        .level-label {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            color: #00ffff;
            min-width: 42px;
            font-weight: 600;
        }

        .orbitals-row {
            display: flex;
            gap: 18px;
            align-items: center;
        }

        .orbital {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.7rem;
            font-weight: 700;
            color: #fff;
            position: relative;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .orbital.filled {
            box-shadow: 0 0 12px currentColor;
            animation: orbitalPulse 2s ease-in-out infinite;
        }

        @keyframes orbitalPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .orbital.empty {
            opacity: 0.3;
            border: 2px dashed rgba(255, 255, 255, 0.3);
        }

        .orbital.s {
            background: linear-gradient(135deg, #ffa500, #ff8c00);
        }

        .orbital.p {
            background: linear-gradient(135deg, #00cc66, #009944);
        }

        .orbital.d {
            background: linear-gradient(135deg, #cc00cc, #990099);
        }

        .orbital.f {
            background: linear-gradient(135deg, #00ccff, #0099cc);
        }

        .orbital sup {
            font-size: 0.7em;
        }

        /* Efecto de destello en el botón */
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .next-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shine 3s infinite;
        }

        @media (max-width: 768px) {
            .logo-container {
                width: 120px;
                height: 120px;
                margin: 15px 0 5px;
            }

            .orbit:nth-child(2) {
                width: 70px;
                height: 70px;
            }

            .orbit:nth-child(3) {
                width: 95px;
                height: 95px;
            }

            .orbit:nth-child(4) {
                width: 120px;
                height: 120px;
            }

            .top-logo {
                width: 60px;
                top: 10px;
                left: 10px;
            }

            .mode-selector {
                gap: 20px;
                margin: 10px 0;
            }

            .mode-option label {
                font-size: 1rem;
            }

            .controls {
                gap: 10px;
                margin: 10px 0;
            }

            .next-btn, .config-btn {
                padding: 10px 20px;
                font-size: 0.85rem;
            }

            .card-area {
                max-width: 90%;
                margin: 10px 0 20px;
            }

            .modal-content {
                padding: 25px 15px;
                max-height: 85vh;
            }

            .modal-atomic-number {
                font-size: 1.2rem;
                top: 15px;
                left: 20px;
            }

            .modal-symbol {
                font-size: 1.4rem;
                top: 15px;
                left: 55px;
            }

            .modal-body {
                padding-top: 50px;
            }

            .modal-header {
                font-size: 0.85rem;
            }

            .electron-config {
                font-size: 0.85rem;
                padding: 12px 8px;
            }

            .electron-config::-webkit-scrollbar {
                width: 6px;
                height: 6px;
            }

            .orbital {
                width: 30px;
                height: 30px;
                font-size: 0.6rem;
            }

            .level-label {
                font-size: 0.75rem;
                min-width: 38px;
            }

            .orbitals-row {
                gap: 12px;
            }

            .energy-level {
                gap: 10px;
            }

            .orbital-diagram {
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Estrellas de fondo -->
    <div class="stars" id="stars"></div>

    <!-- Logo superior izquierdo -->
    <img src="logo.png" alt="ConfiElectro Logo" class="top-logo" onerror="this.style.display='none'">

    <div class="container">
        <!-- Logo Atómico -->
        <div class="logo-container">
            <div class="atom-core"></div>
            <div class="orbit">
                <div class="electron"></div>
            </div>
            <div class="orbit">
                <div class="electron"></div>
            </div>
            <div class="orbit">
                <div class="electron"></div>
            </div>
            <div class="logo-text">CONFIELECTRO</div>
        </div>

        <h1>CONFIELECTRO</h1>

        <!-- Selector de Modo -->
        <div class="mode-selector">
            <div class="mode-option">
                <input type="radio" name="mode" id="modeBasic" value="basic" checked>
                <label for="modeBasic">Modo Básico</label>
            </div>
            <div class="mode-option">
                <input type="radio" name="mode" id="modeExpert" value="expert">
                <label for="modeExpert">Modo Experto</label>
            </div>
        </div>

        <!-- Controles -->
        <div class="controls">
            <button class="next-btn" onclick="nextCard()">Siguiente carta</button>
            <button class="config-btn" onclick="showElectronConfig()">⚛ Configuración Electrónica</button>
            <div class="counter"><span id="current">1</span> / <span id="total">118</span></div>
        </div>

        <!-- Área de la Carta -->
        <div class="card-area">
            <div class="card" id="card">
                <div class="card-inner">
                    <div class="atomic-number" id="atomicNumber">1</div>
                    <div class="symbol" id="symbol">H</div>
                    <div class="name" id="name">Hidrógeno</div>
                    <div class="expert-info" id="expertInfo">
                        <div class="info-item">
                            <span class="info-label">Masa Atómica:</span>
                            <span class="info-value" id="mass">1.008</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Categoría:</span>
                            <span class="info-value" id="category">No metal</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Estado:</span>
                            <span class="info-value" id="state">Gas</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Configuración Electrónica -->
    <div id="configModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            <div class="modal-atomic-number" id="modalAtomicNumber">1</div>
            <div class="modal-body">
                <div class="modal-symbol" id="modalSymbol">H</div>
                <div class="modal-element-name" id="modalElementName">Hidrógeno</div>
                <div class="period-group-info" id="periodGroupInfo">
                    <div class="info-box">
                        <div class="info-box-label">Período</div>
                        <div class="info-box-value" id="periodValue">1</div>
                    </div>
                    <div class="info-box">
                        <div class="info-box-label">Grupo</div>
                        <div class="info-box-value" id="groupValue">1</div>
                    </div>
                </div>
                <h3 class="modal-header">Configuración Electrónica</h3>
                <div class="electron-config" id="electronConfig">1s¹</div>
            </div>
        </div>
    </div>

    <script>
        // Función para generar configuración electrónica visual
        function getElectronConfiguration(atomicNumber) {
            // Estructura de orbitales organizados por nivel energético
            const orbitalStructure = [
                { n: 1, orbitals: [{ type: 's', max: 2 }] },
                { n: 2, orbitals: [{ type: 's', max: 2 }, { type: 'p', max: 6 }] },
                { n: 3, orbitals: [{ type: 's', max: 2 }, { type: 'p', max: 6 }, { type: 'd', max: 10 }] },
                { n: 4, orbitals: [{ type: 's', max: 2 }, { type: 'p', max: 6 }, { type: 'd', max: 10 }, { type: 'f', max: 14 }] },
                { n: 5, orbitals: [{ type: 's', max: 2 }, { type: 'p', max: 6 }, { type: 'd', max: 10 }, { type: 'f', max: 14 }] },
                { n: 6, orbitals: [{ type: 's', max: 2 }, { type: 'p', max: 6 }, { type: 'd', max: 10 }] },
                { n: 7, orbitals: [{ type: 's', max: 2 }, { type: 'p', max: 6 }] },
                { n: 8, orbitals: [{ type: 's', max: 2 }] }
            ];

            // Orden de llenado según el principio de Aufbau (Regla de Madelung)
            const fillOrder = [
                { n: 1, type: 's', max: 2 },   // 1s
                { n: 2, type: 's', max: 2 },   // 2s
                { n: 2, type: 'p', max: 6 },   // 2p
                { n: 3, type: 's', max: 2 },   // 3s
                { n: 3, type: 'p', max: 6 },   // 3p
                { n: 4, type: 's', max: 2 },   // 4s
                { n: 3, type: 'd', max: 10 },  // 3d
                { n: 4, type: 'p', max: 6 },   // 4p
                { n: 5, type: 's', max: 2 },   // 5s
                { n: 4, type: 'd', max: 10 },  // 4d
                { n: 5, type: 'p', max: 6 },   // 5p
                { n: 6, type: 's', max: 2 },   // 6s
                { n: 4, type: 'f', max: 14 },  // 4f
                { n: 5, type: 'd', max: 10 },  // 5d
                { n: 6, type: 'p', max: 6 },   // 6p
                { n: 7, type: 's', max: 2 },   // 7s
                { n: 5, type: 'f', max: 14 },  // 5f
                { n: 6, type: 'd', max: 10 },  // 6d
                { n: 7, type: 'p', max: 6 },   // 7p
                { n: 8, type: 's', max: 2 }    // 8s
            ];

            // Calcular la configuración electrónica
            const electronConfig = {};
            let remaining = atomicNumber;

            for (let orbital of fillOrder) {
                const key = `${orbital.n}${orbital.type}`;
                const electrons = Math.min(remaining, orbital.max);
                electronConfig[key] = electrons;
                remaining -= electrons;
                if (remaining <= 0) break;
            }

            // Crear un mapa del orden de llenado para saber qué orbital sigue
            const fillOrderMap = {};
            for (let i = 0; i < fillOrder.length - 1; i++) {
                const current = `${fillOrder[i].n}${fillOrder[i].type}`;
                const next = `${fillOrder[i + 1].n}${fillOrder[i + 1].type}`;
                fillOrderMap[current] = {
                    next: next,
                    nextN: fillOrder[i + 1].n,
                    currentN: fillOrder[i].n
                };
            }

            // Generar HTML del diagrama con IDs para conexiones
            let html = '';

            // Agregar SVG para las líneas diagonales de Möeller
            html += '<svg class="moeller-lines" id="moeller-svg">';
            html += '</svg>';

            html += '<div class="orbital-diagram" id="orbital-diagram-container">';
            let orbitalIndex = 0;

            for (let level of orbitalStructure) {
                html += `<div class="energy-level" data-level="${level.n}">`;
                html += `<div class="level-label">n=${level.n}</div>`;
                html += `<div class="orbitals-row">`;

                for (let orbital of level.orbitals) {
                    const key = `${level.n}${orbital.type}`;
                    const electrons = electronConfig[key] || 0;
                    const isFilled = electrons > 0;
                    const fillClass = isFilled ? 'filled' : 'empty';
                    const superscript = electrons > 0 ? `<sup>${electrons}</sup>` : '';

                    html += `<div class="orbital ${orbital.type} ${fillClass}" id="orbital-${key}" data-key="${key}" title="${key}: ${electrons}/${orbital.max} electrones">`;
                    html += `${level.n}${orbital.type}${superscript}`;
                    html += `</div>`;
                }

                html += `</div></div>`;
            }

            html += '</div>';

            return html;
        }

        // Datos de los elementos químicos con información adicional
        const elements = [
            { number: 1, symbol: 'H', name: 'Hidrógeno', mass: '1.008', category: 'No metal', state: 'Gas', period: 1, group: 1 },
            { number: 2, symbol: 'He', name: 'Helio', mass: '4.003', category: 'Gas noble', state: 'Gas', period: 1, group: 18 },
            { number: 3, symbol: 'Li', name: 'Litio', mass: '6.941', category: 'Metal alcalino', state: 'Sólido', period: 2, group: 1 },
            { number: 4, symbol: 'Be', name: 'Berilio', mass: '9.012', category: 'Metal alcalinotérreo', state: 'Sólido', period: 2, group: 2 },
            { number: 5, symbol: 'B', name: 'Boro', mass: '10.811', category: 'Metaloide', state: 'Sólido', period: 2, group: 13 },
            { number: 6, symbol: 'C', name: 'Carbono', mass: '12.011', category: 'No metal', state: 'Sólido' },
            { number: 7, symbol: 'N', name: 'Nitrógeno', mass: '14.007', category: 'No metal', state: 'Gas' },
            { number: 8, symbol: 'O', name: 'Oxígeno', mass: '15.999', category: 'No metal', state: 'Gas' },
            { number: 9, symbol: 'F', name: 'Flúor', mass: '18.998', category: 'Halógeno', state: 'Gas' },
            { number: 10, symbol: 'Ne', name: 'Neón', mass: '20.180', category: 'Gas noble', state: 'Gas' },
            { number: 11, symbol: 'Na', name: 'Sodio', mass: '22.990', category: 'Metal alcalino', state: 'Sólido' },
            { number: 12, symbol: 'Mg', name: 'Magnesio', mass: '24.305', category: 'Metal alcalinotérreo', state: 'Sólido' },
            { number: 13, symbol: 'Al', name: 'Aluminio', mass: '26.982', category: 'Metal', state: 'Sólido' },
            { number: 14, symbol: 'Si', name: 'Silicio', mass: '28.086', category: 'Metaloide', state: 'Sólido' },
            { number: 15, symbol: 'P', name: 'Fósforo', mass: '30.974', category: 'No metal', state: 'Sólido' },
            { number: 16, symbol: 'S', name: 'Azufre', mass: '32.065', category: 'No metal', state: 'Sólido' },
            { number: 17, symbol: 'Cl', name: 'Cloro', mass: '35.453', category: 'Halógeno', state: 'Gas' },
            { number: 18, symbol: 'Ar', name: 'Argón', mass: '39.948', category: 'Gas noble', state: 'Gas' },
            { number: 19, symbol: 'K', name: 'Potasio', mass: '39.098', category: 'Metal alcalino', state: 'Sólido' },
            { number: 20, symbol: 'Ca', name: 'Calcio', mass: '40.078', category: 'Metal alcalinotérreo', state: 'Sólido' },
            { number: 21, symbol: 'Sc', name: 'Escandio', mass: '44.956', category: 'Metal de transición', state: 'Sólido' },
            { number: 22, symbol: 'Ti', name: 'Titanio', mass: '47.867', category: 'Metal de transición', state: 'Sólido' },
            { number: 23, symbol: 'V', name: 'Vanadio', mass: '50.942', category: 'Metal de transición', state: 'Sólido' },
            { number: 24, symbol: 'Cr', name: 'Cromo', mass: '51.996', category: 'Metal de transición', state: 'Sólido' },
            { number: 25, symbol: 'Mn', name: 'Manganeso', mass: '54.938', category: 'Metal de transición', state: 'Sólido' },
            { number: 26, symbol: 'Fe', name: 'Hierro', mass: '55.845', category: 'Metal de transición', state: 'Sólido' },
            { number: 27, symbol: 'Co', name: 'Cobalto', mass: '58.933', category: 'Metal de transición', state: 'Sólido' },
            { number: 28, symbol: 'Ni', name: 'Níquel', mass: '58.693', category: 'Metal de transición', state: 'Sólido' },
            { number: 29, symbol: 'Cu', name: 'Cobre', mass: '63.546', category: 'Metal de transición', state: 'Sólido' },
            { number: 30, symbol: 'Zn', name: 'Zinc', mass: '65.380', category: 'Metal de transición', state: 'Sólido' },
            { number: 31, symbol: 'Ga', name: 'Galio', mass: '69.723', category: 'Metal', state: 'Sólido' },
            { number: 32, symbol: 'Ge', name: 'Germanio', mass: '72.640', category: 'Metaloide', state: 'Sólido' },
            { number: 33, symbol: 'As', name: 'Arsénico', mass: '74.922', category: 'Metaloide', state: 'Sólido' },
            { number: 34, symbol: 'Se', name: 'Selenio', mass: '78.960', category: 'No metal', state: 'Sólido' },
            { number: 35, symbol: 'Br', name: 'Bromo', mass: '79.904', category: 'Halógeno', state: 'Líquido' },
            { number: 36, symbol: 'Kr', name: 'Kriptón', mass: '83.798', category: 'Gas noble', state: 'Gas' },
            { number: 37, symbol: 'Rb', name: 'Rubidio', mass: '85.468', category: 'Metal alcalino', state: 'Sólido' },
            { number: 38, symbol: 'Sr', name: 'Estroncio', mass: '87.620', category: 'Metal alcalinotérreo', state: 'Sólido' },
            { number: 39, symbol: 'Y', name: 'Itrio', mass: '88.906', category: 'Metal de transición', state: 'Sólido' },
            { number: 40, symbol: 'Zr', name: 'Circonio', mass: '91.224', category: 'Metal de transición', state: 'Sólido' },
            { number: 41, symbol: 'Nb', name: 'Niobio', mass: '92.906', category: 'Metal de transición', state: 'Sólido' },
            { number: 42, symbol: 'Mo', name: 'Molibdeno', mass: '95.960', category: 'Metal de transición', state: 'Sólido' },
            { number: 43, symbol: 'Tc', name: 'Tecnecio', mass: '98', category: 'Metal de transición', state: 'Sólido' },
            { number: 44, symbol: 'Ru', name: 'Rutenio', mass: '101.07', category: 'Metal de transición', state: 'Sólido' },
            { number: 45, symbol: 'Rh', name: 'Rodio', mass: '102.91', category: 'Metal de transición', state: 'Sólido' },
            { number: 46, symbol: 'Pd', name: 'Paladio', mass: '106.42', category: 'Metal de transición', state: 'Sólido' },
            { number: 47, symbol: 'Ag', name: 'Plata', mass: '107.87', category: 'Metal de transición', state: 'Sólido' },
            { number: 48, symbol: 'Cd', name: 'Cadmio', mass: '112.41', category: 'Metal de transición', state: 'Sólido' },
            { number: 49, symbol: 'In', name: 'Indio', mass: '114.82', category: 'Metal', state: 'Sólido' },
            { number: 50, symbol: 'Sn', name: 'Estaño', mass: '118.71', category: 'Metal', state: 'Sólido' },
            { number: 51, symbol: 'Sb', name: 'Antimonio', mass: '121.76', category: 'Metaloide', state: 'Sólido' },
            { number: 52, symbol: 'Te', name: 'Telurio', mass: '127.60', category: 'Metaloide', state: 'Sólido' },
            { number: 53, symbol: 'I', name: 'Yodo', mass: '126.90', category: 'Halógeno', state: 'Sólido' },
            { number: 54, symbol: 'Xe', name: 'Xenón', mass: '131.29', category: 'Gas noble', state: 'Gas' },
            { number: 55, symbol: 'Cs', name: 'Cesio', mass: '132.91', category: 'Metal alcalino', state: 'Sólido' },
            { number: 56, symbol: 'Ba', name: 'Bario', mass: '137.33', category: 'Metal alcalinotérreo', state: 'Sólido' },
            { number: 57, symbol: 'La', name: 'Lantano', mass: '138.91', category: 'Lantánido', state: 'Sólido' },
            { number: 58, symbol: 'Ce', name: 'Cerio', mass: '140.12', category: 'Lantánido', state: 'Sólido' },
            { number: 59, symbol: 'Pr', name: 'Praseodimio', mass: '140.91', category: 'Lantánido', state: 'Sólido' },
            { number: 60, symbol: 'Nd', name: 'Neodimio', mass: '144.24', category: 'Lantánido', state: 'Sólido' },
            { number: 61, symbol: 'Pm', name: 'Prometio', mass: '145', category: 'Lantánido', state: 'Sólido' },
            { number: 62, symbol: 'Sm', name: 'Samario', mass: '150.36', category: 'Lantánido', state: 'Sólido' },
            { number: 63, symbol: 'Eu', name: 'Europio', mass: '151.96', category: 'Lantánido', state: 'Sólido' },
            { number: 64, symbol: 'Gd', name: 'Gadolinio', mass: '157.25', category: 'Lantánido', state: 'Sólido' },
            { number: 65, symbol: 'Tb', name: 'Terbio', mass: '158.93', category: 'Lantánido', state: 'Sólido' },
            { number: 66, symbol: 'Dy', name: 'Disprosio', mass: '162.50', category: 'Lantánido', state: 'Sólido' },
            { number: 67, symbol: 'Ho', name: 'Holmio', mass: '164.93', category: 'Lantánido', state: 'Sólido' },
            { number: 68, symbol: 'Er', name: 'Erbio', mass: '167.26', category: 'Lantánido', state: 'Sólido' },
            { number: 69, symbol: 'Tm', name: 'Tulio', mass: '168.93', category: 'Lantánido', state: 'Sólido' },
            { number: 70, symbol: 'Yb', name: 'Iterbio', mass: '173.05', category: 'Lantánido', state: 'Sólido' },
            { number: 71, symbol: 'Lu', name: 'Lutecio', mass: '174.97', category: 'Lantánido', state: 'Sólido' },
            { number: 72, symbol: 'Hf', name: 'Hafnio', mass: '178.49', category: 'Metal de transición', state: 'Sólido' },
            { number: 73, symbol: 'Ta', name: 'Tantalio', mass: '180.95', category: 'Metal de transición', state: 'Sólido' },
            { number: 74, symbol: 'W', name: 'Wolframio', mass: '183.84', category: 'Metal de transición', state: 'Sólido' },
            { number: 75, symbol: 'Re', name: 'Renio', mass: '186.21', category: 'Metal de transición', state: 'Sólido' },
            { number: 76, symbol: 'Os', name: 'Osmio', mass: '190.23', category: 'Metal de transición', state: 'Sólido' },
            { number: 77, symbol: 'Ir', name: 'Iridio', mass: '192.22', category: 'Metal de transición', state: 'Sólido' },
            { number: 78, symbol: 'Pt', name: 'Platino', mass: '195.08', category: 'Metal de transición', state: 'Sólido' },
            { number: 79, symbol: 'Au', name: 'Oro', mass: '196.97', category: 'Metal de transición', state: 'Sólido' },
            { number: 80, symbol: 'Hg', name: 'Mercurio', mass: '200.59', category: 'Metal de transición', state: 'Líquido' },
            { number: 81, symbol: 'Tl', name: 'Talio', mass: '204.38', category: 'Metal', state: 'Sólido' },
            { number: 82, symbol: 'Pb', name: 'Plomo', mass: '207.2', category: 'Metal', state: 'Sólido' },
            { number: 83, symbol: 'Bi', name: 'Bismuto', mass: '208.98', category: 'Metal', state: 'Sólido' },
            { number: 84, symbol: 'Po', name: 'Polonio', mass: '209', category: 'Metaloide', state: 'Sólido' },
            { number: 85, symbol: 'At', name: 'Astato', mass: '210', category: 'Halógeno', state: 'Sólido' },
            { number: 86, symbol: 'Rn', name: 'Radón', mass: '222', category: 'Gas noble', state: 'Gas' },
            { number: 87, symbol: 'Fr', name: 'Francio', mass: '223', category: 'Metal alcalino', state: 'Sólido' },
            { number: 88, symbol: 'Ra', name: 'Radio', mass: '226', category: 'Metal alcalinotérreo', state: 'Sólido' },
            { number: 89, symbol: 'Ac', name: 'Actinio', mass: '227', category: 'Actínido', state: 'Sólido' },
            { number: 90, symbol: 'Th', name: 'Torio', mass: '232.04', category: 'Actínido', state: 'Sólido' },
            { number: 91, symbol: 'Pa', name: 'Protactinio', mass: '231.04', category: 'Actínido', state: 'Sólido' },
            { number: 92, symbol: 'U', name: 'Uranio', mass: '238.03', category: 'Actínido', state: 'Sólido' },
            { number: 93, symbol: 'Np', name: 'Neptunio', mass: '237', category: 'Actínido', state: 'Sólido' },
            { number: 94, symbol: 'Pu', name: 'Plutonio', mass: '244', category: 'Actínido', state: 'Sólido' },
            { number: 95, symbol: 'Am', name: 'Americio', mass: '243', category: 'Actínido', state: 'Sólido' },
            { number: 96, symbol: 'Cm', name: 'Curio', mass: '247', category: 'Actínido', state: 'Sólido' },
            { number: 97, symbol: 'Bk', name: 'Berkelio', mass: '247', category: 'Actínido', state: 'Sólido' },
            { number: 98, symbol: 'Cf', name: 'Californio', mass: '251', category: 'Actínido', state: 'Sólido' },
            { number: 99, symbol: 'Es', name: 'Einsteinio', mass: '252', category: 'Actínido', state: 'Sólido' },
            { number: 100, symbol: 'Fm', name: 'Fermio', mass: '257', category: 'Actínido', state: 'Sólido' },
            { number: 101, symbol: 'Md', name: 'Mendelevio', mass: '258', category: 'Actínido', state: 'Sólido' },
            { number: 102, symbol: 'No', name: 'Nobelio', mass: '259', category: 'Actínido', state: 'Sólido' },
            { number: 103, symbol: 'Lr', name: 'Lawrencio', mass: '262', category: 'Actínido', state: 'Sólido' },
            { number: 104, symbol: 'Rf', name: 'Rutherfordio', mass: '267', category: 'Metal de transición', state: 'Sólido' },
            { number: 105, symbol: 'Db', name: 'Dubnio', mass: '268', category: 'Metal de transición', state: 'Sólido' },
            { number: 106, symbol: 'Sg', name: 'Seaborgio', mass: '271', category: 'Metal de transición', state: 'Sólido' },
            { number: 107, symbol: 'Bh', name: 'Bohrio', mass: '272', category: 'Metal de transición', state: 'Sólido' },
            { number: 108, symbol: 'Hs', name: 'Hasio', mass: '270', category: 'Metal de transición', state: 'Sólido' },
            { number: 109, symbol: 'Mt', name: 'Meitnerio', mass: '276', category: 'Metal de transición', state: 'Sólido' },
            { number: 110, symbol: 'Ds', name: 'Darmstadtio', mass: '281', category: 'Metal de transición', state: 'Sólido' },
            { number: 111, symbol: 'Rg', name: 'Roentgenio', mass: '280', category: 'Metal de transición', state: 'Sólido' },
            { number: 112, symbol: 'Cn', name: 'Copernicio', mass: '285', category: 'Metal de transición', state: 'Sólido' },
            { number: 113, symbol: 'Nh', name: 'Nihonio', mass: '284', category: 'Metal', state: 'Sólido' },
            { number: 114, symbol: 'Fl', name: 'Flerovio', mass: '289', category: 'Metal', state: 'Sólido' },
            { number: 115, symbol: 'Mc', name: 'Moscovio', mass: '288', category: 'Metal', state: 'Sólido' },
            { number: 116, symbol: 'Lv', name: 'Livermorio', mass: '293', category: 'Metal', state: 'Sólido' },
            { number: 117, symbol: 'Ts', name: 'Teneso', mass: '294', category: 'Halógeno', state: 'Sólido' },
            { number: 118, symbol: 'Og', name: 'Oganesón', mass: '294', category: 'Gas noble', state: 'Sólido' }
        ];

        let currentIndex = 0;
        let shuffledDeck = [...elements];
        let currentElement = shuffledDeck[0];

        // Crear estrellas
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Crear partículas flotantes
        function createParticles() {
            const colors = ['#00ffff', '#ff00ff', '#ffd700', '#00ff00'];
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = Math.random() * 8 + 5 + 'px';
                particle.style.height = particle.style.width;
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
                document.body.appendChild(particle);
            }
        }

        // Barajar el mazo (Fisher-Yates)
        function shuffle(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Mostrar carta
        function showCard(element) {
            const card = document.getElementById('card');
            const cardInner = card.querySelector('.card-inner');

            // Remover animación y añadirla de nuevo
            cardInner.style.animation = 'none';
            setTimeout(() => {
                cardInner.style.animation = 'cardEntrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
            }, 10);

            document.getElementById('atomicNumber').textContent = element.number;
            document.getElementById('symbol').textContent = element.symbol;
            document.getElementById('name').textContent = element.name;
            document.getElementById('mass').textContent = element.mass;
            document.getElementById('category').textContent = element.category;
            document.getElementById('state').textContent = element.state;

            currentElement = element;
        }

        // Siguiente carta
        function nextCard() {
            currentIndex = (currentIndex + 1) % shuffledDeck.length;
            if (currentIndex === 0) {
                shuffledDeck = shuffle(elements);
            }
            showCard(shuffledDeck[currentIndex]);
            document.getElementById('current').textContent = currentIndex + 1;
        }

        // Mostrar configuración electrónica
        function showElectronConfig() {
            const modal = document.getElementById('configModal');
            const config = getElectronConfiguration(currentElement.number);

            document.getElementById('modalAtomicNumber').textContent = currentElement.number;
            document.getElementById('modalSymbol').textContent = currentElement.symbol;
            document.getElementById('modalElementName').textContent = currentElement.name;
            document.getElementById('electronConfig').innerHTML = config;

            // Mostrar período y grupo
            const periodGroup = getPeriodAndGroup(currentElement.number);
            document.getElementById('periodValue').textContent = periodGroup.period;
            document.getElementById('groupValue').textContent = periodGroup.group;

            modal.classList.add('active');

            // Esperar a que el DOM se actualice para dibujar las líneas de Möeller
            setTimeout(() => {
                drawMoellerLines();
            }, 100);
        }

        // Función para determinar el período y grupo
        function getPeriodAndGroup(atomicNumber) {
            // Tabla de períodos y grupos para todos los elementos
            const periodGroupTable = {
                1: { period: 1, group: 1 },    // H
                2: { period: 1, group: 18 },   // He
                3: { period: 2, group: 1 },    // Li
                4: { period: 2, group: 2 },    // Be
                5: { period: 2, group: 13 },   // B
                6: { period: 2, group: 14 },   // C
                7: { period: 2, group: 15 },   // N
                8: { period: 2, group: 16 },   // O
                9: { period: 2, group: 17 },   // F
                10: { period: 2, group: 18 },  // Ne
                11: { period: 3, group: 1 },   // Na
                12: { period: 3, group: 2 },   // Mg
                13: { period: 3, group: 13 },  // Al
                14: { period: 3, group: 14 },  // Si
                15: { period: 3, group: 15 },  // P
                16: { period: 3, group: 16 },  // S
                17: { period: 3, group: 17 },  // Cl
                18: { period: 3, group: 18 },  // Ar
                19: { period: 4, group: 1 },   // K
                20: { period: 4, group: 2 },   // Ca
                21: { period: 4, group: 3 },   // Sc
                22: { period: 4, group: 4 },   // Ti
                23: { period: 4, group: 5 },   // V
                24: { period: 4, group: 6 },   // Cr
                25: { period: 4, group: 7 },   // Mn
                26: { period: 4, group: 8 },   // Fe
                27: { period: 4, group: 9 },   // Co
                28: { period: 4, group: 10 },  // Ni
                29: { period: 4, group: 11 },  // Cu
                30: { period: 4, group: 12 },  // Zn
                31: { period: 4, group: 13 },  // Ga
                32: { period: 4, group: 14 },  // Ge
                33: { period: 4, group: 15 },  // As
                34: { period: 4, group: 16 },  // Se
                35: { period: 4, group: 17 },  // Br
                36: { period: 4, group: 18 },  // Kr
                37: { period: 5, group: 1 },   // Rb
                38: { period: 5, group: 2 },   // Sr
                39: { period: 5, group: 3 },   // Y
                40: { period: 5, group: 4 },   // Zr
                41: { period: 5, group: 5 },   // Nb
                42: { period: 5, group: 6 },   // Mo
                43: { period: 5, group: 7 },   // Tc
                44: { period: 5, group: 8 },   // Ru
                45: { period: 5, group: 9 },   // Rh
                46: { period: 5, group: 10 },  // Pd
                47: { period: 5, group: 11 },  // Ag
                48: { period: 5, group: 12 },  // Cd
                49: { period: 5, group: 13 },  // In
                50: { period: 5, group: 14 },  // Sn
                51: { period: 5, group: 15 },  // Sb
                52: { period: 5, group: 16 },  // Te
                53: { period: 5, group: 17 },  // I
                54: { period: 5, group: 18 },  // Xe
                55: { period: 6, group: 1 },   // Cs
                56: { period: 6, group: 2 },   // Ba
                57: { period: 6, group: 3 },   // La (Lantánidos 57-71)
                58: { period: 6, group: 3 },   // Ce
                59: { period: 6, group: 3 },   // Pr
                60: { period: 6, group: 3 },   // Nd
                61: { period: 6, group: 3 },   // Pm
                62: { period: 6, group: 3 },   // Sm
                63: { period: 6, group: 3 },   // Eu
                64: { period: 6, group: 3 },   // Gd
                65: { period: 6, group: 3 },   // Tb
                66: { period: 6, group: 3 },   // Dy
                67: { period: 6, group: 3 },   // Ho
                68: { period: 6, group: 3 },   // Er
                69: { period: 6, group: 3 },   // Tm
                70: { period: 6, group: 3 },   // Yb
                71: { period: 6, group: 3 },   // Lu
                72: { period: 6, group: 4 },   // Hf
                73: { period: 6, group: 5 },   // Ta
                74: { period: 6, group: 6 },   // W
                75: { period: 6, group: 7 },   // Re
                76: { period: 6, group: 8 },   // Os
                77: { period: 6, group: 9 },   // Ir
                78: { period: 6, group: 10 },  // Pt
                79: { period: 6, group: 11 },  // Au
                80: { period: 6, group: 12 },  // Hg
                81: { period: 6, group: 13 },  // Tl
                82: { period: 6, group: 14 },  // Pb
                83: { period: 6, group: 15 },  // Bi
                84: { period: 6, group: 16 },  // Po
                85: { period: 6, group: 17 },  // At
                86: { period: 6, group: 18 },  // Rn
                87: { period: 7, group: 1 },   // Fr
                88: { period: 7, group: 2 },   // Ra
                89: { period: 7, group: 3 },   // Ac (Actínidos 89-103)
                90: { period: 7, group: 3 },   // Th
                91: { period: 7, group: 3 },   // Pa
                92: { period: 7, group: 3 },   // U
                93: { period: 7, group: 3 },   // Np
                94: { period: 7, group: 3 },   // Pu
                95: { period: 7, group: 3 },   // Am
                96: { period: 7, group: 3 },   // Cm
                97: { period: 7, group: 3 },   // Bk
                98: { period: 7, group: 3 },   // Cf
                99: { period: 7, group: 3 },   // Es
                100: { period: 7, group: 3 },  // Fm
                101: { period: 7, group: 3 },  // Md
                102: { period: 7, group: 3 },  // No
                103: { period: 7, group: 3 },  // Lr
                104: { period: 7, group: 4 },  // Rf
                105: { period: 7, group: 5 },  // Db
                106: { period: 7, group: 6 },  // Sg
                107: { period: 7, group: 7 },  // Bh
                108: { period: 7, group: 8 },  // Hs
                109: { period: 7, group: 9 },  // Mt
                110: { period: 7, group: 10 }, // Ds
                111: { period: 7, group: 11 }, // Rg
                112: { period: 7, group: 12 }, // Cn
                113: { period: 7, group: 13 }, // Nh
                114: { period: 7, group: 14 }, // Fl
                115: { period: 7, group: 15 }, // Mc
                116: { period: 7, group: 16 }, // Lv
                117: { period: 7, group: 17 }, // Ts
                118: { period: 7, group: 18 }  // Og
            };

            return periodGroupTable[atomicNumber] || { period: '-', group: '-' };
        }

        // Función para dibujar las líneas diagonales de Möeller
        function drawMoellerLines() {
            const svg = document.getElementById('moeller-svg');
            if (!svg) return;

            // Limpiar líneas anteriores
            svg.innerHTML = '';

            // Definir las diagonales según el orden de llenado de Aufbau
            // Cada diagonal agrupa orbitales con la misma suma n+l
            const diagonals = [
                ['1s'],
                ['2s'],
                ['2p', '3s'],
                ['3p', '4s'],
                ['3d', '4p', '5s'],
                ['4d', '5p', '6s'],
                ['4f', '5d', '6p', '7s'],
                ['5f', '6d', '7p', '8s']
            ];

            diagonals.forEach(diagonal => {
                const orbitalElements = [];

                // Obtener elementos de los orbitales en esta diagonal
                diagonal.forEach(orbitalKey => {
                    const element = document.getElementById(`orbital-${orbitalKey}`);
                    if (element) {
                        orbitalElements.push(element);
                    }
                });

                // Si hay al menos 2 orbitales en la diagonal, dibujar la línea
                if (orbitalElements.length >= 2) {
                    const svgRect = svg.getBoundingClientRect();
                    const firstElement = orbitalElements[0];
                    const lastElement = orbitalElements[orbitalElements.length - 1];

                    const firstRect = firstElement.getBoundingClientRect();
                    const lastRect = lastElement.getBoundingClientRect();

                    // Calcular coordenadas relativas al SVG
                    const x1 = firstRect.left + firstRect.width / 2 - svgRect.left;
                    const y1 = firstRect.top + firstRect.height / 2 - svgRect.top;
                    const x2 = lastRect.left + lastRect.width / 2 - svgRect.left;
                    const y2 = lastRect.top + lastRect.height / 2 - svgRect.top;

                    // Extender la línea más allá de los orbitales para que se vea mejor
                    const dx = x2 - x1;
                    const dy = y2 - y1;
                    const length = Math.sqrt(dx * dx + dy * dy);
                    const extension = 30; // píxeles para extender

                    const extendX = (dx / length) * extension;
                    const extendY = (dy / length) * extension;

                    const startX = x1 - extendX;
                    const startY = y1 - extendY;
                    const endX = x2 + extendX;
                    const endY = y2 + extendY;

                    // Crear la línea
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', startX);
                    line.setAttribute('y1', startY);
                    line.setAttribute('x2', endX);
                    line.setAttribute('y2', endY);
                    line.setAttribute('class', 'moeller-line');

                    svg.appendChild(line);
                }
            });
        }

        // Cerrar modal
        function closeModal() {
            document.getElementById('configModal').classList.remove('active');
        }

        // Cerrar modal al hacer clic fuera
        document.getElementById('configModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Cambiar modo
        document.getElementById('modeBasic').addEventListener('change', function() {
            if (this.checked) {
                document.querySelector('.card-inner').classList.remove('expert-mode');
            }
        });

        document.getElementById('modeExpert').addEventListener('change', function() {
            if (this.checked) {
                document.querySelector('.card-inner').classList.add('expert-mode');
            }
        });

        // Inicializar
        createStars();
        createParticles();
        shuffledDeck = shuffle(elements);
        showCard(shuffledDeck[0]);
        document.getElementById('total').textContent = elements.length;
        document.getElementById('current').textContent = 1;
    </script>
</body>
</html>
